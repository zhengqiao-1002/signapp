// 手语数据
const signData = {
    "人物关系": ["爸爸", "宝贝", "大家", "弟弟", "儿子", "哥哥", "姐姐", "妈妈", "妹妹", "奶奶", "你", "你俩", "你们", "女儿", "朋友", "亲戚", "叔叔", "孙子", "他", "他们", "同事", "同学", "外公", "外甥", "我", "我们", "先生", "爷爷", "岳父", "咱们", "丈夫", "侄子", "自己", "岳母"],
    "职业名称": ["导游", "服务员", "工人", "护士", "记者", "交警", "经理", "警察", "老师", "秘书", "校长", "学生", "演员", "医生", "职员", "作家"],
    "基础数字": ["零", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十"],
    "时间日期": ["小时", "分钟", "年", "将来", "今天", "明天", "昨天", "每天", "晚上", "早上", "中午", "下午", "上午", "现在", "以前", "暂时", "今年", "当时", "时间", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六", "星期日", "明年", "周末", "随时", "一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    "常见食物": ["包子", "菜", "茶", "鸡蛋", "蛋糕", "火锅", "饺子", "咖啡", "米饭", "面包", "面条", "牛奶", "啤酒", "苹果", "葡萄", "巧克力", "热水", "水果", "汤", "西瓜", "香蕉", "饮料"],
    "公共场所": ["宾馆", "超市", "城市", "大使馆", "电影院", "法院", "饭店", "公司", "公园", "机场", "家", "郊区", "教室", "街道", "敬老院", "楼", "商店", "宿舍", "图书馆", "学校", "医院", "银行", "邮局", "幼儿园"],
    "交通出行": ["安全带", "斑马线", "船", "地铁", "动车", "堵车", "飞机", "高铁", "公交车", "护照", "火车", "旅游", "摩托车", "排队", "桥", "自行车"],
    "自然景观": ["光", "海洋", "河", "森林", "闪电", "树", "水", "太阳", "天", "天空", "月亮", "云", "长江"],
    "日常用语": ["请坐", "谢谢", "对不起", "再见"],
    "颜色类": ["红色", "蓝色", "黄色", "绿色"],
    "动作行为": ["睡觉", "吃饭", "走路", "喝水"]
};

// 手语动作描述
const signDescriptions = {
    // 人物关系
    "爸爸": "1. 右手大拇指竖起，其余手指握拳\n2. 在下巴处点两下",
    "宝贝": "1. 双手手心相对\n2. 做抱婴儿的动作",
    "大家": "1. 双手手心向下\n2. 从中间向两侧划开",
    "弟弟": "1. 右手大拇指和食指并拢\n2. 在下巴处向下点",
    "儿子": "1. 右手手心向下\n2. 从胸前向下滑动",
    "哥哥": "1. 右手大拇指和食指并拢\n2. 在额头处向上抬",
    "姐姐": "1. 右手食指在脸颊旁\n2. 向上抬两下",
    "妈妈": "1. 右手食指点右脸颊\n2. 点两下",
    "妹妹": "1. 右手食指在脸颊旁\n2. 向下点两下",
    "奶奶": "1. 双手手心相对\n2. 在胸前做揉搓状",
    "你": "1. 右手食指指向对方\n2. 或双手食指同时指向对方",
    "你俩": "1. 右手食指和中指并拢\n2. 指向对方",
    "你们": "1. 右手食指画半圆\n2. 指向多个方向",
    "女儿": "1. 右手手心向上\n2. 从胸前向上托起",
    "朋友": "1. 双手食指勾在一起\n2. 前后摆动",
    "亲戚": "1. 双手手心相对\n2. 在胸前交叉",
    "叔叔": "1. 右手手心向内\n2. 在胸前做抱拳状",
    "孙子": "1. 双手手心相对\n2. 从上向下画圆",
    "他": "1. 右手食指指向第三者\n2. 或双手同时指向第三者",
    "他们": "1. 右手食指画半圆\n2. 指向多个第三者",
    "同事": "1. 双手手心相对\n2. 在胸前平行移动",
    "同学": "1. 双手手心相对\n2. 做翻书状",
    "外公": "1. 右手握拳\n2. 在太阳穴处画圈",
    "外甥": "1. 双手手心相对\n2. 从下向上托起",
    "我": "1. 右手食指指向自己\n2. 或双手同时指向自己",
    "我们": "1. 右手食指从自己画到他人\n2. 或双手画圆圈",
    "先生": "1. 右手手心向下\n2. 在胸前划一横",
    "爷爷": "1. 右手手心向下\n2. 在头顶做抚摸状",
    "岳父": "1. 双手手心相对\n2. 在胸前交叉后向两侧展开",
    "咱们": "1. 双手食指相对\n2. 画圆圈",
    "丈夫": "1. 右手握拳\n2. 在胸前向下挥动",
    "侄子": "1. 双手手心相对\n2. 从胸前向下滑动",
    "自己": "1. 右手食指指向自己\n2. 点两下",
    "岳母": "1. 双手手心相对\n2. 在胸前交叉后向上展开",

    // 职业名称
    "导游": "1. 右手手心向上\n2. 做引导状，或双手同时做引导状",
    "服务员": "1. 双手手心向上\n2. 做端托盘状",
    "工人": "1. 双手握拳\n2. 做敲打状",
    "护士": "1. 右手做听诊器状\n2. 在胸前移动",
    "记者": "1. 双手做握笔状\n2. 在空中记录",
    "交警": "1. 双手手心相对\n2. 做指挥动作",
    "经理": "1. 右手手心向下\n2. 在胸前划圈",
    "警察": "1. 右手手心向前\n2. 做敬礼状",
    "老师": "1. 右手手心向下\n2. 做写字状",
    "秘书": "1. 双手做打字状\n2. 在空中移动",
    "校长": "1. 双手手心相对\n2. 从上向下划动",
    "学生": "1. 双手手心相对\n2. 做看书状",
    "演员": "1. 双手在脸前\n2. 做表演状",
    "医生": "1. 右手做听诊器状\n2. 在胸前移动",
    "职员": "1. 双手手心相对\n2. 做办公状",
    "作家": "1. 右手做写字状\n2. 在左手掌心书写",

    // 基础数字
    "零": "1. 右手握拳\n2. 或双手握拳做圆圈状",
    "一": "1. 右手食指竖起\n2. 或双手食指同时竖起",
    "二": "1. 右手食指和中指竖起\n2. 或双手各伸出一指",
    "三": "1. 右手食指、中指和无名指竖起\n2. 或双手配合表示",
    "四": "1. 右手除拇指外四指竖起\n2. 或双手各伸出两指",
    "五": "1. 右手五指张开\n2. 或双手各伸出适量手指",
    "六": "1. 右手大拇指和小指竖起\n2. 或双手配合表示",
    "七": "1. 右手大拇指、食指和中指竖起\n2. 或双手配合表示",
    "八": "1. 右手大拇指、食指和小指竖起\n2. 或双手各伸出四指",
    "九": "1. 右手握拳，食指弯曲成钩状\n2. 或双手配合表示",
    "十": "1. 右手食指和中指交叉\n2. 或双手食指交叉",

    // 时间日期
    "小时": "1. 右手食指指向手腕\n2. 画圆圈",
    "分钟": "1. 右手食指指向手腕\n2. 向前划一下",
    "年": "1. 双手手心相对\n2. 画大圆圈",
    "将来": "1. 双手手心向前\n2. 向前推动",
    "今天": "1. 双手手心向下\n2. 向下点一下",
    "明天": "1. 右手手心向前\n2. 向前划一下",
    "昨天": "1. 右手手心向后\n2. 向后划一下",
    "每天": "1. 双手手心相对\n2. 画圆圈",
    "晚上": "1. 双手手心向下\n2. 在头顶画月亮形",
    "早上": "1. 双手手心向上\n2. 从下向上升起",
    "中午": "1. 右手食指指向头顶\n2. 表示太阳当头",
    "下午": "1. 双手手心向下\n2. 从右向左画半圆",
    "上午": "1. 双手手心向上\n2. 从左向右画半圆",
    "现在": "1. 双手手心相对\n2. 在胸前相碰",
    "以前": "1. 右手手心向后\n2. 向后摆动",
    "暂时": "1. 双手手心相对\n2. 短暂停留",
    "今年": "1. 右手手心向下\n2. 在胸前画圆",
    "当时": "1. 右手食指指向过去\n2. 点一下",
    "时间": "1. 右手食指指向手腕\n2. 画圆圈",

    // 常见食物
    "包子": "1. 双手手心相对\n2. 做包包子状",
    "菜": "1. 双手手心相对\n2. 做炒菜状",
    "茶": "1. 右手做端茶杯状\n2. 轻轻摇动",
    "鸡蛋": "1. 双手手心相对\n2. 做剥蛋壳状",
    "蛋糕": "1. 双手手心相对\n2. 做切蛋糕状",
    "火锅": "1. 双手手心相对\n2. 做涮火锅状",
    "饺子": "1. 双手手心相对\n2. 做包饺子状",
    "咖啡": "1. 右手做端咖啡杯状\n2. 轻轻搅动",
    "米饭": "1. 双手手心相对\n2. 做捧碗状",
    "面包": "1. 双手手心相对\n2. 做切面包状",
    "面条": "1. 双手做拉面状\n2. 向上提",
    "牛奶": "1. 右手做握杯状\n2. 做倒牛奶状",
    "啤酒": "1. 右手做握瓶状\n2. 做开瓶盖状",
    "苹果": "1. 双手做捧水果状\n2. 做咬苹果状",
    "葡萄": "1. 右手手指蜷曲\n2. 做摘葡萄状",
    "巧克力": "1. 双手手心相对\n2. 做掰巧克力状",
    "热水": "1. 右手做端杯状\n2. 做吹凉状",
    "水果": "1. 双手做摘果状\n2. 向嘴边移动",
    "汤": "1. 双手手心相对\n2. 做喝汤状",
    "西瓜": "1. 双手手心相对\n2. 做切西瓜状",
    "香蕉": "1. 右手做剥皮状\n2. 做吃香蕉状",
    "饮料": "1. 右手做握瓶状\n2. 做喝饮料状",

    // 公共场所
    "宾馆": "1. 双手手心相对\n2. 做房子形状",
    "超市": "1. 双手做推车状\n2. 向前推",
    "城市": "1. 双手手心相对\n2. 画出高楼轮廓",
    "大使馆": "1. 双手手心相对\n2. 画出建筑轮廓",
    "电影院": "1. 双手做看电影状\n2. 向前方看",
    "法院": "1. 右手做敲槌状\n2. 做判决状",
    "饭店": "1. 双手手心相对\n2. 做吃饭状",
    "公司": "1. 双手手心相对\n2. 画出办公楼形状",
    "公园": "1. 双手手心向上\n2. 画出园林形状",
    "机场": "1. 双手手心相对\n2. 做飞机起飞状",
    "家": "1. 双手手心相对\n2. 做房顶形状",
    "郊区": "1. 双手手心向上\n2. 画出开阔地形状",
    "教室": "1. 双手手心相对\n2. 做看书写字状",
    "街道": "1. 双手平行\n2. 画出道路形状",
    "敬老院": "1. 右手做拄拐杖状\n2. 做走路状",
    "楼": "1. 双手手心相对\n2. 从下向上升起",
    "商店": "1. 双手手心相对\n2. 做交易状",
    "宿舍": "1. 双手手心相对\n2. 做睡觉状",
    "图书馆": "1. 双手手心相对\n2. 做翻书状",
    "学校": "1. 双手手心相对\n2. 做读书状",
    "医院": "1. 右手画十字\n2. 或双手画十字",
    "银行": "1. 双手手心相对\n2. 做数钱状",
    "邮局": "1. 双手做写信状\n2. 做寄信状",
    "幼儿园": "1. 双手手心相对\n2. 做照顾小孩状",

    // 交通出行
    "安全带": "1. 双手做系安全带状\n2. 从左肩到右腰",
    "斑马线": "1. 双手平行\n2. 画出条纹形状",
    "船": "1. 双手手心相对\n2. 做船行状",
    "地铁": "1. 双手平行\n2. 做地下行驶状",
    "动车": "1. 双手手心相对\n2. 快速向前推进",
    "堵车": "1. 双手手心相对\n2. 做停滞状",
    "飞机": "1. 双手手心相对\n2. 做起飞状",
    "高铁": "1. 双手手心相对\n2. 快速向前推进",
    "公交车": "1. 双手握方向盘状\n2. 做驾驶状",
    "护照": "1. 双手手心相对\n2. 做翻护照状",
    "火车": "1. 双手手心相对\n2. 做火车行驶状",
    "旅游": "1. 双手提行李状\n2. 做走路状",
    "摩托车": "1. 双手握车把状\n2. 做骑车状",
    "排队": "1. 双手手心相对\n2. 画出队伍形状",
    "桥": "1. 双手手心相对\n2. 画出桥的形状",
    "自行车": "1. 双手做踩踏状\n2. 做骑车状",

    // 自然景观
    "光": "1. 双手手心向外\n2. 做发光状",
    "海洋": "1. 双手手心向上\n2. 做波浪状",
    "河": "1. 双手手心相对\n2. 做水流状",
    "森林": "1. 双手手心向上\n2. 画出树木形状",
    "闪电": "1. 双手手心向下\n2. 画出闪电形状",
    "树": "1. 右手手心向上\n2. 画出树的形状",
    "水": "1. 双手手心向下\n2. 做流水状",
    "太阳": "1. 双手画圆\n2. 做发光状",
    "天": "1. 双手手心向上\n2. 向上指",
    "天空": "1. 双手手心向上\n2. 画出广阔状",
    "月亮": "1. 双手画弧\n2. 做月牙状",
    "云": "1. 双手手心向下\n2. 画出云朵形状",
    "长江": "1. 双手手心相对\n2. 画出江河流向",

    // 日常用语
    "请坐": "1. 双手手心向下\n2. 做请坐状",
    "谢谢": "1. 右手手心向上\n2. 或双手合十",
    "对不起": "1. 右手手心向内\n2. 或双手合十道歉",
    "再见": "1. 右手手心向外\n2. 或双手挥手",

    // 颜色类
    "红色": "1. 右手食指点右嘴唇\n2. 或双手比划红色物品",
    "蓝色": "1. 右手指向天空\n2. 或双手比划蓝色物品",
    "黄色": "1. 右手指向太阳\n2. 或双手比划黄色物品",
    "绿色": "1. 右手指向植物\n2. 或双手比划绿色物品",

    // 动作行为
    "睡觉": "1. 双手合拢\n2. 靠在脸颊边",
    "吃饭": "1. 右手做夹菜状\n2. 或双手做捧碗状",
    "走路": "1. 双手食指和中指\n2. 做走路状",
    "喝水": "1. 右手做端杯状\n2. 或双手捧杯状"
};

// 检查登录状态
function checkLogin() {
    const token = localStorage.getItem('token');
    if (!token) {
        window.location.href = '/user/login.html';
        return;
    }
    
    // 显示用户名
    const username = localStorage.getItem('username');
    document.getElementById('username').textContent = username;
}

// 加载手语列表
function loadSignsList(category) {
    const signs = signData[category] || [];
    const container = document.getElementById('signsList');
    container.innerHTML = signs.map(sign => `
        <div class="sign-item" onclick="showSignDetail('${sign}')">
            ${sign}
        </div>
    `).join('');
    
    // 更新当前分类标题
    document.getElementById('currentCategory').textContent = category;
    
    // 默认显示第一个手语的详情
    if (signs.length > 0) {
        showSignDetail(signs[0]);
    }
}

// 显示手语详情
function showSignDetail(sign) {
    // 更新选中状态
    const items = document.querySelectorAll('.sign-item');
    items.forEach(item => {
        if (item.textContent.trim() === sign) {
            item.classList.add('active');
        } else {
            item.classList.remove('active');
        }
    });
    
    // 更新详情区域
    document.getElementById('signWord').textContent = sign;
    
    // 获取并显示手语描述
    const description = signDescriptions[sign] || "该手语的标准动作描述正在完善中...";
    document.getElementById('signDescription').innerHTML = description.split('\n').map(line => `<p>${line}</p>`).join('');
}

// 绑定分类切换事件
function bindCategoryEvents() {
    const categories = document.querySelectorAll('#categoryList li');
    categories.forEach(category => {
        category.addEventListener('click', () => {
            // 更新选中状态
            categories.forEach(c => c.classList.remove('active'));
            category.classList.add('active');
            
            // 加载对应分类的手语列表
            loadSignsList(category.dataset.category);
        });
    });
}

// 退出登录
function logout() {
    localStorage.removeItem('token');
    localStorage.removeItem('username');
    window.location.href = '/user/login.html';
}

// 页面加载完成后执行
document.addEventListener('DOMContentLoaded', () => {
    checkLogin();
    bindCategoryEvents();
    // 默认加载人物关系类别
    loadSignsList('人物关系');
}); 